<div class="umb-dialog" ng-controller="UmbracoForms.Editors.Form.ImportController as vm">
  <div class="umb-dialog-body with-footer">
    <div class="umb-pane">
      <div ng-if="vm.state === 'upload'">
        <p>
          <localize key="formImport_importInstruction1"></localize>
        </p>
        <p>
          <localize key="formImport_importInstruction2"></localize>
        </p>
        <form name="importForm">
          <button accept=".json"
                  class="btn btn-action"
                  name="file"
                  ng-model="filesHolder"
                  ngf-change="handleFiles($files, $event, $invalidFiles)"
                  ngf-multiple="false"
                  ngf-pattern="*.json"
                  ngf-select>
            <localize key="general_import">Import</localize>
          </button>
        </form>

        <div ng-if="importForm.file.$error.pattern">Please choose a .json file to import</div>

      </div>
      <div ng-if="vm.state === 'confirm'">
        <strong>
          <localize key="name">Name</localize>
        </strong>
        :        
        {{vm.model.name}}
        <br />
        <br />
        <button class="btn btn-primary" ng-click="import()">
          <localize key="actions_importDocumentType">Import</localize>
        </button>
      </div>
      <div ng-if="vm.state === 'done'">
        {{vm.model.name}} has been imported!
      </div>
    </div>
  </div>

  <div class="umb-dialog-footer btn-toolbar umb-btn-toolbar">
    <umb-button action="close()"
                button-style="link"
                label-key="{{vm.cancelButtonLabel}}"
                type="button">
    </umb-button>
  </div>
</div>
